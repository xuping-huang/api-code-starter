defaults: &defaults
  project:
    name: ddmt-api
    basePath: /
    templateSwitch: swagger
  api:
    security:
      isJwt: true
    navigation:
      page: page
      perPage: perPage
      sortOrder: sortOrder
  paths:
    - path: /admin/login
      ops:
      - method: post
        operationId: admin login
        tag: Security
        noSecurity: true
        needAuth: false
        needFound: false
        needPermission: false
        needReqBody: true
        needReqBodyRef: false
        reqBodyParams:
          - name: username
          - name: password
        needResponseRef: false
        responseParams:
          - name: accessToken
          - name: accessTokenExpiredOn
        needResponsePageHeader: false
        noResponseContent: false
    - path: /departments
      ops:
      - method: get
        operationId: find all departments
        tag: Department
        noSecurity: false
        needAuth: true
        needFound: false
        needPermission: true
        needReqBody: false
        needReqBodyRef: false
        isList: true
        needResponseRef: true
        refResponseEntity: Department
        noResponseContent: false
    - path: /projects
      ops:
      - method: post
        operationId:
        tag: Project
        noSecurity: false
        needAuth: true
        needFound: false
        needPermission: true
        needReqBody: true
        needReqBodyRef: true
        reqBodyParams:
          - name: ProjectData_ref
          - name: UserData_array_ref
          - name: ComputerData_array_ref
          - name: ApplicationData_array_ref
          - name: DepartmentData_array_ref
        needResponseRef: true
        refResponseEntity: Project
        needResponsePageHeader: false
        noResponseContent: false
      - method: get
        operationId: find all projects
        tag: Project
        noSecurity: false
        needAuth: true
        needFound: false
        needPermission: true
        needReqBody: false
        needReqBodyRef: false
        isList: true
        needNavPage: false
        needResponseRef: true
        refResponseEntity: Project
        needResponsePageHeader: false
        noResponseContent: false
    - path: '/projects/:projectId'
      ops:
      - method: get
        operationId: find project by id
        tag: Project
        noSecurity: false
        needAuth: true
        needFound: true
        needPermission: true
        pathParams:
          - name: projectId
        needReqBody: false
        needReqBodyRef: false
        needResponseRef: true
        refResponseEntity: Project
        needResponsePageHeader: false
        noResponseContent: false
      - method: put
        operationId: update project data
        tag: Project
        noSecurity: false
        needAuth: true
        needFound: true
        needPermission: true
        pathParams:
          - name: projectId
        needReqBody: true
        needReqBodyRef: true
        refReqEntity: Project
        needResponseRef: true
        refResponseEntity: Project
        needResponsePageHeader: false
        noResponseContent: false
    - path: /receipients
      ops:
      - method: post
        operationId: create project email receipient
        tag: Email
        noSecurity: false
        needAuth: true
        needFound: false
        needPermission: true
        needReqBody: true
        needReqBodyRef: true
        refReqEntity: EmailReceipientData
        needResponseRef: true
        refResponseEntity: EmailReceipient
        needResponsePageHeader: false
        noResponseContent: false
    - path: '/receipients/:receipientId'
      ops:
      - method: delete
        operationId: delete project email receipient by id
        tag: Email
        noSecurity: false
        needAuth: true
        needFound: true
        needPermission: true
        pathParams:
          - name: receipientId
        needReqBody: false
        needReqBodyRef: false
        needResponseRef: false
        needResponsePageHeader: false
        noResponseContent: true
    - path: /emailTemplates
      ops:
      - method: post
        operationId: create new project email template
        tag: Email
        noSecurity: false
        needAuth: true
        needFound: false
        needPermission: true
        needReqBody: true
        needReqBodyRef: true
        refReqEntity: EmailTemplateData
        needResponseRef: true
        refResponseEntity: EmailTemplate
        needResponsePageHeader: false
        noResponseContent: false
    - path: '/emailTemplates/:templateId'
      ops:
      - method: delete
        operationId: delete project email template by id
        tag: Email
        noSecurity: false
        needAuth: true
        needFound: true
        needPermission: true
        pathParams:
          - name: templateId
        needReqBody: false
        needReqBodyRef: false
        needResponseRef: false
        needResponsePageHeader: false
        noResponseContent: true
      - method: put
    - path: '/emailTemplates/:templateId/test'
      ops:
      - method: get
        operationId: send a test email for project email template
        tag: Email
        noSecurity: false
        needAuth: true
        needFound: true
        needPermission: true
        pathParams:
          - name: templateId
        needReqBody: false
        needReqBodyRef: false
        needResponseRef: false
        needResponsePageHeader: false
        noResponseContent: true
    - path: /migrations/statistics/status
      ops:
      - method: get
        operationId: get migration status statistics
        tag:
        noSecurity: false
        needAuth: true
        needFound: true
        needPermission: true
        needReqBody: false
        needReqBodyRef: false
        needResponseRef: false
        responseParams:
          - name: Pendings_int
          - name: Scheduleds_int
          - name: Completes_int
        needResponsePageHeader: false
        noResponseContent: false
    - path: /migrations
      ops:
      - method: get
        operationId: find migrations by search conditions
        tag: Migration
        noSecurity: false
        needAuth: true
        needFound: false
        needPermission: true
        queryParams:
          - name: upcoming_bool
        needReqBody: false
        needReqBodyRef: false
        isList: true
        needNavPage: false
        needResponseRef: true
        refResponseEntity: Migration
        noResponseContent: false
    - path: '/migrations/:migrationId'
      ops:
      - method: get
        operationId: find migration by id
        tag: Migration
        noSecurity: false
        needAuth: true
        needFound: true
        needPermission: false
        pathParams:
          - name: migrationId
        needReqBody: false
        needReqBodyRef: false
        needResponseRef: true
        refResponseEntity: Migration
        needResponsePageHeader: false
        noResponseContent: false
      - method: patch
        operationId: partial update migration status info
        tag: Migration
        noSecurity: false
        needAuth: true
        needFound: true
        needPermission: false
        pathParams:
          - name: migrationId
        needReqBody: true
        needReqBodyRef: true
        refReqEntity: MigrationStatusData
        needResponseRef: true
        refResponseEntity: Migration
        needResponsePageHeader: false
        noResponseContent: false
    - path: /applications
      ops:
      - method: get
        operationId: find all applications
        tag:
        noSecurity: false
        needAuth: true
        needFound: false
        needPermission: true
        queryParams:
          - name: projectId
        needReqBody: false
        needReqBodyRef: false
        isList: true
        needNavPage: false
        needResponseRef: true
        refResponseEntity: Application
        noResponseContent: false
      - method: patch
        operationId: partial update application readiness info
        tag: Application
        noSecurity: false
        needAuth: true
        needFound: true
        needPermission: true
        needReqBody: true
        needReqBodyRef: true
        refReqEntity: Application_array
        needResponseRef: false
        responseParams:
          - name: updatedCount
        needResponsePageHeader: false
        noResponseContent: false
    - path: /computers
      ops:
      - method: get
        operationId: find all computers
        tag: Computer
        noSecurity: false
        needAuth: true
        needFound: false
        needPermission: true
        queryParams:
          - name: name
        needReqBody: false
        needReqBodyRef: false
        isList: true
        needResponseRef: true
        refResponseEntity: Computer
        noResponseContent: false
    - path: /installedApplications
      ops:
      - method: get
        operationId: find all installed applications in computers
        tag: Application
        noSecurity: false
        needAuth: true
        needFound: false
        needPermission: true
        needReqBody: false
        needReqBodyRef: false
        isList: true
        needResponseRef: true
        refResponseEntity: Application
        noResponseContent: false
    - path: /users
      ops:
      - method: get
        operationId: find all users
        tag: User
        noSecurity: false
        needAuth: true
        needFound: false
        needPermission: true
        needReqBody: false
        needReqBodyRef: false
        isList: true
        needResponseRef: true
        refResponseEntity: User
    - path: /teams
      ops:
      - method: get
        operationId: find all teams
        tag: Team
        noSecurity: false
        needAuth: true
        needFound: false
        needPermission: true
        needReqBody: false
        needReqBodyRef: false
        isList: true
        needResponseRef: true
        refResponseEntity: Team
        noResponseContent: false
    - path: '/teams/:teamId'
      ops:
      - method: get
        operationId:
        tag: Team
        noSecurity: false
        needAuth: true
        needFound: true
        needPermission: false
        pathParams:
          - name: teamId
        needReqBody: false
        needReqBodyRef: false
        needResponseRef: true
        refResponseEntity: Team
        needResponsePageHeader: false
        noResponseContent: false
      - method: put
        operationId: update team info
        tag: Team
        noSecurity: false
        needAuth: true
        needFound: true
        needPermission: true
        needReqBody: true
        needReqBodyRef: true
        refReqEntity: Team
        needResponseRef: true
        refResponseEntity: Team
        needResponsePageHeader: false
        noResponseContent: false
    - path: /surveyQuestions
      ops:
      - method: get
        operationId: find all survey questions
        tag: Survey
        noSecurity: false
        needAuth: true
        needFound: false
        needPermission: false
        needReqBody: false
        needReqBodyRef: false
        isList: true
        needResponseRef: true
        refResponseEntity: SurveyQuestion
        noResponseContent: false
      - method: post
        operationId: create survey questions
        tag: Survey
        noSecurity: false
        needAuth: true
        needFound: false
        needPermission: true
        needReqBody: true
        needReqBodyRef: true
        refReqEntity: SurveyQuestionData_array
        needResponseRef: false
        responseParams:
          - name: createdCount
        needResponsePageHeader: false
        noResponseContent: false
      - method: put
        operationId: update survey questions
        tag: Survey
        noSecurity: false
        needAuth: true
        needFound: true
        needPermission: true
        needReqBody: true
        needReqBodyRef: true
        refReqEntity: SurveyQuestion_array
        needResponseRef: false
        responseParams:
          - name: updatedCount
        needResponsePageHeader: false
        noResponseContent: false
    - path: /surveyResponses
      ops:
      - method: post
        operationId: create new survey response
        tag: Survey
        noSecurity: false
        needAuth: true
        needFound: false
        needPermission: false
        needReqBody: true
        needReqBodyRef: true
        refReqEntity: SurveyResponseData
        needResponseRef: true
        refResponseEntity: SurveyResponse
        needResponsePageHeader: false
        noResponseContent: false
    - path: '/emailLogs/project/:projectId'
      ops:
      - method: get
        operationId:
        tag:
        noSecurity: false
        needAuth: true
        needFound: false
        needPermission: true
        pathParams:
          - name: projectId
        needReqBody: false
        needReqBodyRef: false
        isList: true
        needNavPage: true
        needResponseRef: true
        refResponseEntity: EmailLog
        needResponsePageHeader: true
        noResponseContent: false
    - path: /emailServerConfig
      ops:
      - method: get
        operationId: get email server config
        tag: Email
        noSecurity: false
        needAuth: true
        needFound: false
        needPermission: true
        needReqBody: false
        needReqBodyRef: false
        needResponseRef: true
        refResponseEntity: EmailServerConfig
        needResponsePageHeader: false
        noResponseContent: false
    - path: '/emailServerConfig/:id'
      ops:
      - method: put
        operationId: update email server config
        tag: Email
        noSecurity: false
        needAuth: true
        needFound: true
        needPermission: true
        needReqBody: true
        needReqBodyRef: true
        pathParams:
          - name: id
        refReqEntity: EmailServerConfig
        needResponseRef: true
        refResponseEntity: EmailServerConfig
        needResponsePageHeader: false
        noResponseContent: false
    - path: '/lookup/:typeCode'
      ops:
      - method: get
        operationId: find lookup data by type code
        tag: Lookup
        noSecurity: false
        needAuth: true
        needFound: false
        needPermission: true
        pathParams:
          - name: typeCode
        needReqBody: false
        needReqBodyRef: false
        isList: true
        needResponseRef: true
        refResponseEntity: LookupData
        noResponseContent: false
  schemas:
    - entity: Id
      entityParams:
        - name: id
    - entity: Record
      entityParams:
        - name: createdOn
        - name: createdBy
        - name: updatedOn
        - name: updatedBy
    - entity: User
      isGetReturn: true
      returnRef: UserData
    - entity: UserData
      entityParams:
        - name: name
        - name: vipFlag
        - name: supportLanguage
        - name: site
        - name: siteCode
        - name: building
        - name: floor
        - name: deskInformation
        - name: streetAddress
        - name: city
        - name: state
        - name: departmentId
        - name: emailAddress
        - name: managerId
        - name: projectId
    - entity: Application
      isGetReturn: true
      returnRef: ApplicationData
    - entity: ApplicationData
      entityParams:
        - name: name
        - name: version_str
        - name: manufacturer
        - name: language
        - name: packageId
        - name: compatibility
        - name: typeOfInstall
        - name: sourcePath
        - name: status
        - name: rationalization
        - name: targetVersion
        - name: targetAppId
        - name: projectId
        - name: comment
    - entity: Computer
      isGetReturn: true
      returnRef: ComputerData
    - entity: ComputerData
      entityParams:
        - name: name
        - name: manufacturer
        - name: assetTag
        - name: assetType
        - name: serialNo
        - name: assetModel
        - name: cpu
        - name: memory
        - name: diskSpace
        - name: freeSpace
        - name: operationSystem
        - name: lastLogonName
        - name: primaryFlag
        - name: primaryUserId
        - name: sharedFlag
        - name: ipAddress
        - name: domain
        - name: biosVersion
        - name: purchaseDate
        - name: migrationId
        - name: projectId
    - entity: InstalledApplication
      entityParams:
        - name: id_ref
        - name: computerId
        - name: applicationId
        - name: additinalInstalledFlag
    - entity: Department
      isGetReturn: true
      returnRef: DepartmentData
    - entity: DepartmentData
      entityParams:
        - name: name
        - name: employees_int
        - name: officeLocation
        - name: applications_int
    - entity: Team
      isGetReturn: true
      returnRef: TeamData
    - entity: TeamData
      entityParams:
        - name: name
        - name: startDate
        - name: endDate
        - name: mondayMax
        - name: tuesdayMax
        - name: wednesdayMax
        - name: thursdayMax
        - name: fridayMax
        - name: saturdayMax
        - name: sundayMax
    - entity: TeamMember
      entityParams:
        - name: id_ref
        - name: name
        - name: emailAddress
        - name: teamId
    - entity: Project
      isGetReturn: true
      returnRef: ProjectData
    - entity: ProjectData
      entityParams:
        - name: name
        - name: testEmail
        - name: enableEmailFlag
    - entity: Migration
      isGetReturn: true
      returnRef: MigrationData
    - entity: MigrationData
      entityParams:
        - name: currentComputerId
        - name: currentDepartmentId
        - name: currentLocation
        - name: planDate
        - name: comment
        - name: projectId
        - name: actualDate
        - name: type
        - name: status
        - name: replacementDevice
        - name: migrateData
        - name: currentHWModel
        - name: currentKeyboardLayout
        - name: newKeyboardLayout
        - name: monitors
        - name: newDeviceSiNo
    - entity: MigrationStatusData
      entityParams:
        - name: actualDate
        - name: type
        - name: status
        - name: replacementDevice
        - name: migrateData
        - name: currentHWModel
        - name: currentKeyboardLayout
        - name: newKeyboardLayout
        - name: monitors
        - name: newDeviceSiNo
        - name: additionalInstalledApplicationIds_array_ref
    - entity: EmailServerConfig
      entityParams:
        - name: id_ref
        - name: address
        - name: port
        - name: serverType
        - name: senderName
        - name: username
        - name: password
        - name: senderEmail
    - entity: SurveyQuestion
      isGetReturn: true
      returnRef: SurveyQuestionData
    - entity: SurveyQuestionData
      entityParams:
        - name: question
        - name: order
    - entity: SurveyResponse
      isGetReturn: true
      returnRef: SurveyResponseData
    - entity: SurveyResponseData
      entityParams:
        - name: body
        - name: avgScore
        - name: projectId
        - name: userId
        - name: computerId
        - name: managerName
    - entity: EmailReceipient
      isGetReturn: true
      returnRef: EmailReceipientData
    - entity: EmailReceipientData
      entityParams:
        - name: projectId
        - name: emailAddress
    - entity: EmailTemplate
      isGetReturn: true
      returnRef: EmailTemplateData
    - entity: EmailTemplateData
      entityParams:
        - name: type
        - name: subject
        - name: body
        - name: projectId
    - entity: EmailAttachement
      isGetReturn: true
      returnRef: EmailAttachementData
    - entity: EmailAttachementData
      entityParams:
        - name: emailTemplateId
        - name: name
        - name: fileContent
    - entity: LookupType
      entityParams:
        - name: id_ref
        - name: name
        - name: code
    - entity: LookupData
      entityParams:
        - name: id_ref
        - name: lookupTypeId
        - name: name
        - name: value
        - name: obsoleteFlag
    - entity: EmailLog
      entityParams:
        - name: id_ref
        - name: emailTemplateId
        - name: projectId
